use_r("expectedSampleMatrix")
library(devtools)
use_r("expectedSampleMatrix")
load_all()
check()
use_mit_license()
document()
check()
check()
install()
use_readme_rmd()
load("/Users/lekelyu/Desktop/texas.RData")
usethis::use_data(texasSeqMeta)
usethis::use_data(texasCase)
document()
use_r("data")
load("~/Desktop/subsamplerr/data/texasCase.rda")
View(texasCase)
load("~/Desktop/subsamplerr/data/texasSeqMeta.rda")
View(texasSeqMeta)
document()
document()
document()
check()
document
document()
check()
document()
check()
document()
check()
use_r("proportionalSampling")
document()
check()
load_all()
use_r("plotSequencingPercentage")
document()
check()
document()
check()
check()
document()
check()
document()
check()
use_r("global")
check()
document()
check()
load_all()
summary(texasSeqMeta)
summary(texasCase)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
summary(texasSeqMeta)
EpiweekC <- paste0((colnames(texasCase) %>% as.Date() %>% epiyear()), "_", (colnames(texasCase) %>% as.Date() %>% epiweek()))
colnames(texasCase) <- EpiweekC
texasCase <- t(rowsum(t(texasCase), colnames(texasCase)))
texasCase <- texasCase[rownames(texasSeq), colnames(texasSeq)]
library(subsamplerr)
summary(texasSeqMeta)
summary(texasSeqMeta)
summary(subsamplerr::texasSeqMeta)
load_all()
library(subsamplerr)
library(subsamplerr)
summary(texasSeqMeta)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
EpiweekC <- paste0((colnames(texasCase) %>% as.Date() %>% epiyear()), "_", (colnames(texasCase) %>% as.Date() %>% epiweek()))
colnames(texasCase) <- EpiweekC
texasCase <- t(rowsum(t(texasCase), colnames(texasCase)))
texasCase <- texasCase[rownames(texasSeq), colnames(texasSeq)]
library(subsamplerr)
texasSeqMeta
library(subsamplerr)
texasSeqMeta %>% head()
library(subsamplerr)
texasSeqMeta %>% head()
unlink("README_cache", recursive = TRUE)
check()
load_all()
library(subsamplerr)
texasCase
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
plotSequencingPercentage(texasSeq, texasCase)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
EpiweekC <- paste0((colnames(texasCase) %>% as.Date() %>% epiyear()), "_", (colnames(texasCase) %>% as.Date() %>% epiweek()))
colnames(texasCase) <- EpiweekC
texasCase <- t(rowsum(t(texasCase), colnames(texasCase)))
texasCase <- texasCase[rownames(texasSeq), colnames(texasSeq)]
plotSequencingPercentage(texasSeq, texasCase)
plotSequencingPercentage(texasSeq, texasCase)
check()
check()
y
load_all()
library(subsamplerr)
library(dplyr)
plotSequencingPercentage(texasSeq, texasCase)
library(subsamplerr)
head(texasSeqMeta)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
EpiweekC <- paste0((colnames(texasCase) %>% as.Date() %>% epiyear()), "_", (colnames(texasCase) %>% as.Date() %>% epiweek()))
colnames(texasCase) <- EpiweekC
texasCase <- t(rowsum(t(texasCase), colnames(texasCase)))
texasCase <- texasCase[rownames(texasSeq), colnames(texasSeq)]
library(dplyr)
plotSequencingPercentage(texasSeq, texasCase)
library(dplyr)
plotSequencingPercentage(texasSeq, texasCase)
plotSequencingPercentage(texasSeq, texasCase)
plotSequencingPercentage(texasSeq, texasCase)
check()
document()
check()
load_all()
library(subsamplerr)
library(subsamplerr)
head(texasSeqMeta)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
EpiweekC <- paste0((colnames(texasCase) %>% as.Date() %>% epiyear()), "_", (colnames(texasCase) %>% as.Date() %>% epiweek()))
colnames(texasCase) <- EpiweekC
texasCase <- t(rowsum(t(texasCase), colnames(texasCase)))
texasCase <- texasCase[rownames(texasSeq), colnames(texasSeq)]
plotSequencingPercentage(texasSeq, texasCase)
document()
check()
load_all()
library(subsamplerr)
head(texasSeqMeta)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
EpiweekC <- paste0((colnames(texasCase) %>% as.Date() %>% epiyear()), "_", (colnames(texasCase) %>% as.Date() %>% epiweek()))
colnames(texasCase) <- EpiweekC
texasCase <- t(rowsum(t(texasCase), colnames(texasCase)))
texasCase <- texasCase[rownames(texasSeq), colnames(texasSeq)]
plotSequencingPercentage(texasSeq, texasCase)
library(subsamplerr)
load(texasSeqMeta)
library(subsamplerr)
head(texasSeqMeta)
library(subsamplerr)
library(dplyr)
head(starwars)
#head(texasSeqMeta)
library(subsamplerr)
head(texasSeqMeta)
usethis::use_data(texasCase, texasSeqMeta, internal = TRUE)
check()
load_all()
library(subsamplerr)
texasCase
usethis::use_data(texasCase, texasSeqMeta, internal = F)
usethis::use_data(texasCase, texasSeqMeta, internal = TRUE, overwrite = TRUE)
usethis::use_data(texasCase, texasSeqMeta, internal = FALSE, overwrite = TRUE)
document()
check()
library(subsamplerr)
head(texasSeqMeta)
load_all()
library(subsamplerr)
library(subsamplerr)
detach("package:subsamplerr", unload = TRUE)
library(subsamplerr)
library(subsamplerr)
head(texasSeqMeta)
detach("package:subsamplerr", unload = TRUE)
library(subsamplerr)
library(subsamplerr)
head(texasSeqMeta)
library(subsamplerr)
library(subsamplerr)
head(texasSeqMeta)
detach("package:subsamplerr", unload = TRUE)
library(subsamplerr)
head(texasSeqMeta)
library(magrittr)
library(magrittr)
library(aweek)
library(lubridate)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
library(magrittr)
library(aweek)
library(lubridate)
library(dyplr)
library(subsamplerr)
library(subsamplerr)
library(subsamplerr)
plotSequencingPercentage(texasSeq, texasCase)
library(subsamplerr)
head(texasSeqMeta)
library(magrittr)
library(aweek)
library(lubridate)
library(dplyr)
texasSeqMeta$epiweek <- paste0((texasSeqMeta$date %>% as.Date() %>% epiyear()), "_", (texasSeqMeta$date %>% as.Date() %>% epiweek()))
texasSeqCount <- texasSeqMeta %>%
dplyr::group_by(location, epiweek) %>%
summarise(total_count=n(), .groups = 'drop') %>%
as.data.frame()
MetroAreas <- texasSeqCount$location %>% unique() %>% sort()
EpiweekS <- texasSeqCount$epiweek %>% unique() %>% sort()
texasSeq <- matrix(0, length(MetroAreas), length(EpiweekS))
rownames(texasSeq) <- MetroAreas
colnames(texasSeq) <- EpiweekS
for (i in 1:nrow(texasSeqCount)) {
texasSeq[texasSeqCount[i, "location"] == MetroAreas, texasSeqCount[i, "epiweek"] == EpiweekS] <- texasSeqCount[i, "total_count"]
}
EpiweekC <- paste0((colnames(texasCase) %>% as.Date() %>% epiyear()), "_", (colnames(texasCase) %>% as.Date() %>% epiweek()))
colnames(texasCase) <- EpiweekC
texasCase <- t(rowsum(t(texasCase), colnames(texasCase)))
texasCase <- texasCase[rownames(texasSeq), colnames(texasSeq)]
plotSequencingPercentage(texasSeq, texasCase)
texasSample <- expectedSampleMatrix(0.006, texasSeq, texasCase)
proportionalSampling(texasSample, texasSeqMeta)
texasSample <- expectedSampleMatrix(0.006, texasSeq, texasCase)
id <- proportionalSampling(texasSample, texasSeqMeta)
View(texasSeqMeta)
texsaSeqMeta
load("~/Desktop/subsamplerr/data/texasSeqMeta.rda")
